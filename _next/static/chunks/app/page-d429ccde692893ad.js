(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[931],{5171:function(e,t,a){Promise.resolve().then(a.bind(a,8981))},8981:function(e,t,a){"use strict";a.r(t),a.d(t,{default:function(){return FastFoodApp}});var s=a(7437),r=a(2265),i=a(7042),o=a(4769);function cn(){for(var e=arguments.length,t=Array(e),a=0;a<e;a++)t[a]=arguments[a];return(0,o.m6)((0,i.W)(t))}let n=r.forwardRef((e,t)=>{let{className:a,...r}=e;return(0,s.jsx)("div",{ref:t,className:cn("rounded-lg border bg-card text-card-foreground shadow-sm",a),...r})});n.displayName="Card";let d=r.forwardRef((e,t)=>{let{className:a,...r}=e;return(0,s.jsx)("div",{ref:t,className:cn("flex flex-col space-y-1.5 p-6",a),...r})});d.displayName="CardHeader";let l=r.forwardRef((e,t)=>{let{className:a,...r}=e;return(0,s.jsx)("div",{ref:t,className:cn("text-2xl font-semibold leading-none tracking-tight",a),...r})});l.displayName="CardTitle";let c=r.forwardRef((e,t)=>{let{className:a,...r}=e;return(0,s.jsx)("div",{ref:t,className:cn("text-sm text-muted-foreground",a),...r})});c.displayName="CardDescription";let u=r.forwardRef((e,t)=>{let{className:a,...r}=e;return(0,s.jsx)("div",{ref:t,className:cn("p-6 pt-0",a),...r})});u.displayName="CardContent";let m=r.forwardRef((e,t)=>{let{className:a,...r}=e;return(0,s.jsx)("div",{ref:t,className:cn("flex items-center p-6 pt-0",a),...r})});m.displayName="CardFooter";var p=a(7256),f=a(6061);let g=(0,f.j)("inline-flex items-center justify-center gap-2 whitespace-nowrap rounded-md text-sm font-medium ring-offset-background transition-colors focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-ring focus-visible:ring-offset-2 disabled:pointer-events-none disabled:opacity-50 [&_svg]:pointer-events-none [&_svg]:size-4 [&_svg]:shrink-0",{variants:{variant:{default:"bg-primary text-primary-foreground hover:bg-primary/90",destructive:"bg-destructive text-destructive-foreground hover:bg-destructive/90",outline:"border border-input bg-background hover:bg-accent hover:text-accent-foreground",secondary:"bg-secondary text-secondary-foreground hover:bg-secondary/80",ghost:"hover:bg-accent hover:text-accent-foreground",link:"text-primary underline-offset-4 hover:underline"},size:{default:"h-10 px-4 py-2",sm:"h-9 rounded-md px-3",lg:"h-11 rounded-md px-8",icon:"h-10 w-10"}},defaultVariants:{variant:"default",size:"default"}}),x=r.forwardRef((e,t)=>{let{className:a,variant:r,size:i,asChild:o=!1,...n}=e,d=o?p.g7:"button";return(0,s.jsx)(d,{className:cn(g({variant:r,size:i,className:a})),ref:t,...n})});x.displayName="Button";let h=(0,f.j)("inline-flex items-center rounded-full border px-2.5 py-0.5 text-xs font-semibold transition-colors focus:outline-none focus:ring-2 focus:ring-ring focus:ring-offset-2",{variants:{variant:{default:"border-transparent bg-primary text-primary-foreground hover:bg-primary/80",secondary:"border-transparent bg-secondary text-secondary-foreground hover:bg-secondary/80",destructive:"border-transparent bg-destructive text-destructive-foreground hover:bg-destructive/80",outline:"text-foreground"}},defaultVariants:{variant:"default"}});function Badge(e){let{className:t,variant:a,...r}=e;return(0,s.jsx)("div",{className:cn(h({variant:a}),t),...r})}let v=r.forwardRef((e,t)=>{let{className:a,type:r,...i}=e;return(0,s.jsx)("input",{type:r,className:cn("flex h-10 w-full rounded-md border border-input bg-background px-3 py-2 text-base ring-offset-background file:border-0 file:bg-transparent file:text-sm file:font-medium file:text-foreground placeholder:text-muted-foreground focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-ring focus-visible:ring-offset-2 disabled:cursor-not-allowed disabled:opacity-50 md:text-sm",a),ref:t,...i})});v.displayName="Input";let b=r.forwardRef((e,t)=>{let{className:a,...r}=e;return(0,s.jsx)("textarea",{className:cn("flex min-h-[80px] w-full rounded-md border border-input bg-background px-3 py-2 text-base ring-offset-background placeholder:text-muted-foreground focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-ring focus-visible:ring-offset-2 disabled:cursor-not-allowed disabled:opacity-50 md:text-sm",a),ref:t,...r})});b.displayName="Textarea";let y=0;function genId(){return(y=(y+1)%Number.MAX_SAFE_INTEGER).toString()}let j=new Map,addToRemoveQueue=e=>{if(j.has(e))return;let t=setTimeout(()=>{j.delete(e),dispatch({type:"REMOVE_TOAST",toastId:e})},1e6);j.set(e,t)},reducer=(e,t)=>{switch(t.type){case"ADD_TOAST":return{...e,toasts:[t.toast,...e.toasts].slice(0,1)};case"UPDATE_TOAST":return{...e,toasts:e.toasts.map(e=>e.id===t.toast.id?{...e,...t.toast}:e)};case"DISMISS_TOAST":{let{toastId:a}=t;return a?addToRemoveQueue(a):e.toasts.forEach(e=>{addToRemoveQueue(e.id)}),{...e,toasts:e.toasts.map(e=>e.id===a||void 0===a?{...e,open:!1}:e)}}case"REMOVE_TOAST":if(void 0===t.toastId)return{...e,toasts:[]};return{...e,toasts:e.toasts.filter(e=>e.id!==t.toastId)}}},N=[],w={toasts:[]};function dispatch(e){w=reducer(w,e),N.forEach(e=>{e(w)})}function toast(e){let{...t}=e,a=genId(),dismiss=()=>dispatch({type:"DISMISS_TOAST",toastId:a});return dispatch({type:"ADD_TOAST",toast:{...t,id:a,open:!0,onOpenChange:e=>{e||dismiss()}}}),{id:a,dismiss,update:e=>dispatch({type:"UPDATE_TOAST",toast:{...e,id:a}})}}function useToast(){let[e,t]=r.useState(w);return r.useEffect(()=>(N.push(t),()=>{let e=N.indexOf(t);e>-1&&N.splice(e,1)}),[e]),{...e,toast,dismiss:e=>dispatch({type:"DISMISS_TOAST",toastId:e})}}var T=a(8568),_=a(4862);let S=T.zt,k=r.forwardRef((e,t)=>{let{className:a,...r}=e;return(0,s.jsx)(T.l_,{ref:t,className:cn("fixed top-0 z-[100] flex max-h-screen w-full flex-col-reverse p-4 sm:bottom-0 sm:right-0 sm:top-auto sm:flex-col md:max-w-[420px]",a),...r})});k.displayName=T.l_.displayName;let D=(0,f.j)("group pointer-events-auto relative flex w-full items-center justify-between space-x-4 overflow-hidden rounded-md border p-6 pr-8 shadow-lg transition-all data-[swipe=cancel]:translate-x-0 data-[swipe=end]:translate-x-[var(--radix-toast-swipe-end-x)] data-[swipe=move]:translate-x-[var(--radix-toast-swipe-move-x)] data-[swipe=move]:transition-none data-[state=open]:animate-in data-[state=closed]:animate-out data-[swipe=end]:animate-out data-[state=closed]:fade-out-80 data-[state=closed]:slide-out-to-right-full data-[state=open]:slide-in-from-top-full data-[state=open]:sm:slide-in-from-bottom-full",{variants:{variant:{default:"border bg-background text-foreground",destructive:"destructive group border-destructive bg-destructive text-destructive-foreground"}},defaultVariants:{variant:"default"}}),z=r.forwardRef((e,t)=>{let{className:a,variant:r,...i}=e;return(0,s.jsx)(T.fC,{ref:t,className:cn(D({variant:r}),a),...i})});z.displayName=T.fC.displayName;let C=r.forwardRef((e,t)=>{let{className:a,...r}=e;return(0,s.jsx)(T.aU,{ref:t,className:cn("inline-flex h-8 shrink-0 items-center justify-center rounded-md border bg-transparent px-3 text-sm font-medium ring-offset-background transition-colors hover:bg-secondary focus:outline-none focus:ring-2 focus:ring-ring focus:ring-offset-2 disabled:pointer-events-none disabled:opacity-50 group-[.destructive]:border-muted/40 group-[.destructive]:hover:border-destructive/30 group-[.destructive]:hover:bg-destructive group-[.destructive]:hover:text-destructive-foreground group-[.destructive]:focus:ring-destructive",a),...r})});C.displayName=T.aU.displayName;let O=r.forwardRef((e,t)=>{let{className:a,...r}=e;return(0,s.jsx)(T.x8,{ref:t,className:cn("absolute right-2 top-2 rounded-md p-1 text-foreground/50 opacity-0 transition-opacity hover:text-foreground focus:opacity-100 focus:outline-none focus:ring-2 group-hover:opacity-100 group-[.destructive]:text-red-300 group-[.destructive]:hover:text-red-50 group-[.destructive]:focus:ring-red-400 group-[.destructive]:focus:ring-offset-red-600",a),"toast-close":"",...r,children:(0,s.jsx)(_.Z,{className:"h-4 w-4"})})});O.displayName=T.x8.displayName;let A=r.forwardRef((e,t)=>{let{className:a,...r}=e;return(0,s.jsx)(T.Dx,{ref:t,className:cn("text-sm font-semibold",a),...r})});A.displayName=T.Dx.displayName;let I=r.forwardRef((e,t)=>{let{className:a,...r}=e;return(0,s.jsx)(T.dk,{ref:t,className:cn("text-sm opacity-90",a),...r})});function Toaster(){let{toasts:e}=useToast();return(0,s.jsxs)(S,{children:[e.map(function(e){let{id:t,title:a,description:r,action:i,...o}=e;return(0,s.jsxs)(z,{...o,children:[(0,s.jsxs)("div",{className:"grid gap-1",children:[a&&(0,s.jsx)(A,{children:a}),r&&(0,s.jsx)(I,{children:r})]}),i,(0,s.jsx)(O,{})]},t)}),(0,s.jsx)(k,{})]})}I.displayName=T.dk.displayName;let E=0;function use_toast_genId(){return(E=(E+1)%Number.MAX_SAFE_INTEGER).toString()}let q=new Map,use_toast_addToRemoveQueue=e=>{if(q.has(e))return;let t=setTimeout(()=>{q.delete(e),use_toast_dispatch({type:"REMOVE_TOAST",toastId:e})},1e6);q.set(e,t)},use_toast_reducer=(e,t)=>{switch(t.type){case"ADD_TOAST":return{...e,toasts:[t.toast,...e.toasts].slice(0,1)};case"UPDATE_TOAST":return{...e,toasts:e.toasts.map(e=>e.id===t.toast.id?{...e,...t.toast}:e)};case"DISMISS_TOAST":{let{toastId:a}=t;return a?use_toast_addToRemoveQueue(a):e.toasts.forEach(e=>{use_toast_addToRemoveQueue(e.id)}),{...e,toasts:e.toasts.map(e=>e.id===a||void 0===a?{...e,open:!1}:e)}}case"REMOVE_TOAST":if(void 0===t.toastId)return{...e,toasts:[]};return{...e,toasts:e.toasts.filter(e=>e.id!==t.toastId)}}},R=[],F={toasts:[]};function use_toast_dispatch(e){F=use_toast_reducer(F,e),R.forEach(e=>{e(F)})}function use_toast_toast(e){let{...t}=e,a=use_toast_genId(),dismiss=()=>use_toast_dispatch({type:"DISMISS_TOAST",toastId:a});return use_toast_dispatch({type:"ADD_TOAST",toast:{...t,id:a,open:!0,onOpenChange:e=>{e||dismiss()}}}),{id:a,dismiss,update:e=>use_toast_dispatch({type:"UPDATE_TOAST",toast:{...e,id:a}})}}function use_toast_useToast(){let[e,t]=r.useState(F);return r.useEffect(()=>(R.push(t),()=>{let e=R.indexOf(t);e>-1&&R.splice(e,1)}),[e]),{...e,toast:use_toast_toast,dismiss:e=>use_toast_dispatch({type:"DISMISS_TOAST",toastId:e})}}var B=a(1840),P=a(8892),M=a(8523),V=a(3464),Z=a(8402),Q=a(8247),H=a(4584);let L=[{id:"1",name:"Big Burger",description:"Katta burger go'sht, pomidor, salat va maxsus sous bilan",price:25e3,image:"\uD83C\uDF54",category:"Burgerlar",rating:4.8},{id:"2",name:"Cheese Burger",description:"Pishloqli burger go'sht va pishloq bilan",price:22e3,image:"\uD83C\uDF54",category:"Burgerlar",rating:4.6},{id:"3",name:"Chicken Burger",description:"Tovuq go'shti bilan burger",price:2e4,image:"\uD83C\uDF54",category:"Burgerlar",rating:4.5},{id:"4",name:"Pizza Margherita",description:"Klassik pizza pomidor va pishloq bilan",price:35e3,image:"\uD83C\uDF55",category:"Pizzalar",rating:4.7},{id:"5",name:"Pepperoni Pizza",description:"Pizza pepperoni va pishloq bilan",price:4e4,image:"\uD83C\uDF55",category:"Pizzalar",rating:4.9},{id:"6",name:"Vegetarian Pizza",description:"Sabzavotli pizza",price:32e3,image:"\uD83C\uDF55",category:"Pizzalar",rating:4.4},{id:"7",name:"French Fries",description:"Qizil kartoshka fri",price:12e3,image:"\uD83C\uDF5F",category:"Garnirlar",rating:4.3},{id:"8",name:"Onion Rings",description:"Piyoz halqalari",price:1e4,image:"\uD83E\uDDC5",category:"Garnirlar",rating:4.2},{id:"9",name:"Coca Cola",description:"Sovuq ichimlik 0.5L",price:8e3,image:"\uD83E\uDD64",category:"Ichimliklar",rating:4.1},{id:"10",name:"Pepsi",description:"Sovuq ichimlik 0.5L",price:8e3,image:"\uD83E\uDD64",category:"Ichimliklar",rating:4},{id:"11",name:"Orange Juice",description:"Apelsin sharbati",price:12e3,image:"\uD83E\uDDC3",category:"Ichimliklar",rating:4.5}],U=["Barchasi","Burgerlar","Pizzalar","Garnirlar","Ichimliklar"];function FastFoodApp(){var e;let[t,a]=(0,r.useState)([]),[i,o]=(0,r.useState)("Barchasi"),[d,l]=(0,r.useState)(!1),[c,m]=(0,r.useState)({phone:"",address:""}),[p,f]=(0,r.useState)(!1),{toast:g}=use_toast_useToast(),h=null===(e=window.Telegram)||void 0===e?void 0:e.WebApp;(0,r.useEffect)(()=>{h&&(h.ready(),h.expand(),h.MainButton.hide(),h.setHeaderColor("#f97316"),h.setBackgroundColor("#fed7aa"))},[h]);let y="Barchasi"===i?L:L.filter(e=>e.category===i),addToCart=e=>{a(t=>{let a=t.find(t=>t.id===e.id);return a?t.map(t=>t.id===e.id?{...t,quantity:t.quantity+1}:t):[...t,{...e,quantity:1}]}),g({title:"Savatga qo'shildi",description:"".concat(e.name," savatga qo'shildi")}),h&&h.HapticFeedback.impactOccurred("light")},removeFromCart=e=>{a(t=>{let a=t.find(t=>t.id===e);return a&&a.quantity>1?t.map(t=>t.id===e?{...t,quantity:t.quantity-1}:t):t.filter(t=>t.id!==e)}),h&&h.HapticFeedback.impactOccurred("light")},getTotalPrice=()=>t.reduce((e,t)=>e+t.price*t.quantity,0),handleCheckout=async()=>{if(!c.phone||!c.address){g({title:"Xatolik",description:"Telefon va manzil kiritilishi shart",variant:"destructive"});return}if(0===t.length){g({title:"Xatolik",description:"Savat bo'sh",variant:"destructive"});return}f(!0);try{let e={items:t,totalAmount:getTotalPrice(),customerInfo:c,orderDate:new Date().toISOString()};h?(h.sendData(JSON.stringify(e)),g({title:"Buyurtma yuborildi!",description:"Tez orada siz bilan bog'lanamiz"}),h.HapticFeedback.notificationOccurred("success"),setTimeout(()=>{h.close()},2e3)):(console.log("Order data:",e),g({title:"Test rejimida",description:"Buyurtma ma'lumotlari konsolga yuborildi"}))}catch(e){g({title:"Xatolik yuz berdi",description:"Iltimos qaytadan urinib ko'ring",variant:"destructive"}),h&&h.HapticFeedback.notificationOccurred("error")}finally{f(!1)}};return d?(0,s.jsxs)("div",{className:"min-h-screen bg-gradient-to-br from-orange-400 to-red-600 p-4",children:[(0,s.jsxs)("div",{className:"max-w-md mx-auto",children:[(0,s.jsxs)("div",{className:"flex items-center justify-between mb-6",children:[(0,s.jsx)(x,{variant:"ghost",onClick:()=>l(!1),className:"text-white hover:bg-white/20",children:"← Orqaga"}),(0,s.jsx)("h1",{className:"text-2xl font-bold text-white",children:"Buyurtma"}),(0,s.jsx)("div",{})]}),(0,s.jsx)(n,{className:"mb-4",children:(0,s.jsxs)(u,{className:"p-4",children:[(0,s.jsx)("h2",{className:"text-lg font-semibold mb-4",children:"Buyurtma tafsilotlari"}),t.map(e=>(0,s.jsxs)("div",{className:"flex justify-between items-center py-2 border-b last:border-b-0",children:[(0,s.jsxs)("div",{className:"flex items-center",children:[(0,s.jsx)("span",{className:"text-2xl mr-3",children:e.image}),(0,s.jsxs)("div",{children:[(0,s.jsx)("p",{className:"font-medium",children:e.name}),(0,s.jsxs)("p",{className:"text-sm text-gray-600",children:["x",e.quantity]})]})]}),(0,s.jsxs)("p",{className:"font-semibold",children:[(e.price*e.quantity).toLocaleString()," so'm"]})]},e.id)),(0,s.jsxs)("div",{className:"flex justify-between items-center pt-4 border-t font-bold text-lg",children:[(0,s.jsx)("span",{children:"Jami:"}),(0,s.jsxs)("span",{children:[getTotalPrice().toLocaleString()," so'm"]})]})]})}),(0,s.jsx)(n,{className:"mb-4",children:(0,s.jsxs)(u,{className:"p-4 space-y-4",children:[(0,s.jsx)("h2",{className:"text-lg font-semibold",children:"Aloqa ma'lumotlari"}),(0,s.jsxs)("div",{children:[(0,s.jsxs)("label",{className:"block text-sm font-medium mb-1",children:[(0,s.jsx)(B.Z,{className:"inline w-4 h-4 mr-1"}),"Telefon raqami"]}),(0,s.jsx)(v,{type:"tel",placeholder:"+998 90 123 45 67",value:c.phone,onChange:e=>m(t=>({...t,phone:e.target.value})),required:!0})]}),(0,s.jsxs)("div",{children:[(0,s.jsxs)("label",{className:"block text-sm font-medium mb-1",children:[(0,s.jsx)(P.Z,{className:"inline w-4 h-4 mr-1"}),"Yetkazib berish manzili"]}),(0,s.jsx)(b,{placeholder:"To'liq manzilni kiriting...",value:c.address,onChange:e=>m(t=>({...t,address:e.target.value})),className:"min-h-[80px]",required:!0})]}),(0,s.jsx)(x,{onClick:handleCheckout,className:"w-full bg-green-500 hover:bg-green-600 text-white py-6 text-lg",disabled:p,children:p?"Yuborilmoqda...":"Buyurtma berish"})]})})]}),(0,s.jsx)(Toaster,{})]}):(0,s.jsxs)("div",{className:"min-h-screen bg-gradient-to-br from-orange-400 to-red-600",children:[(0,s.jsx)("div",{className:"bg-white/10 backdrop-blur-sm sticky top-0 z-10",children:(0,s.jsx)("div",{className:"max-w-md mx-auto p-4",children:(0,s.jsxs)("div",{className:"flex items-center justify-between",children:[(0,s.jsxs)("div",{children:[(0,s.jsx)("h1",{className:"text-2xl font-bold text-white",children:"FastFood"}),(0,s.jsx)("p",{className:"text-white/80 text-sm",children:"Tez va mazali"})]}),(0,s.jsxs)("div",{className:"flex items-center space-x-2",children:[(0,s.jsx)(M.Z,{className:"w-4 h-4 text-white"}),(0,s.jsx)("span",{className:"text-white text-sm",children:"24/7"})]})]})})}),(0,s.jsxs)("div",{className:"max-w-md mx-auto p-4",children:[(0,s.jsx)("div",{className:"flex space-x-2 mb-6 overflow-x-auto pb-2",children:U.map(e=>(0,s.jsx)(x,{variant:i===e?"default":"outline",size:"sm",onClick:()=>o(e),className:"whitespace-nowrap ".concat(i===e?"bg-white text-orange-600 hover:bg-white/90":"bg-white/20 text-white border-white/30 hover:bg-white/30"),children:e},e))}),(0,s.jsx)("div",{className:"space-y-4 mb-20",children:y.map(e=>{let a=t.find(t=>t.id===e.id),r=(null==a?void 0:a.quantity)||0;return(0,s.jsx)(n,{className:"overflow-hidden hover:shadow-lg transition-shadow",children:(0,s.jsx)(u,{className:"p-4",children:(0,s.jsxs)("div",{className:"flex items-center space-x-4",children:[(0,s.jsx)("div",{className:"text-4xl",children:e.image}),(0,s.jsxs)("div",{className:"flex-1",children:[(0,s.jsxs)("div",{className:"flex items-center justify-between mb-1",children:[(0,s.jsx)("h3",{className:"font-semibold text-lg",children:e.name}),e.rating&&(0,s.jsxs)("div",{className:"flex items-center",children:[(0,s.jsx)(V.Z,{className:"w-4 h-4 text-yellow-400 fill-current"}),(0,s.jsx)("span",{className:"text-sm text-gray-600 ml-1",children:e.rating})]})]}),(0,s.jsx)("p",{className:"text-gray-600 text-sm mb-2",children:e.description}),(0,s.jsxs)("div",{className:"flex items-center justify-between",children:[(0,s.jsxs)("span",{className:"text-lg font-bold text-orange-600",children:[e.price.toLocaleString()," so'm"]}),(0,s.jsxs)("div",{className:"flex items-center space-x-2",children:[r>0&&(0,s.jsxs)(s.Fragment,{children:[(0,s.jsx)(x,{size:"sm",variant:"outline",onClick:()=>removeFromCart(e.id),className:"w-8 h-8 p-0",children:(0,s.jsx)(Z.Z,{className:"w-4 h-4"})}),(0,s.jsx)(Badge,{variant:"secondary",className:"px-3",children:r})]}),(0,s.jsx)(x,{size:"sm",onClick:()=>addToCart(e),className:"w-8 h-8 p-0 bg-orange-500 hover:bg-orange-600",children:(0,s.jsx)(Q.Z,{className:"w-4 h-4"})})]})]})]})]})})},e.id)})}),t.length>0&&(0,s.jsx)("div",{className:"fixed bottom-4 left-4 right-4 max-w-md mx-auto",children:(0,s.jsxs)(x,{onClick:()=>l(!0),className:"w-full bg-green-500 hover:bg-green-600 text-white py-4 text-lg shadow-lg",children:[(0,s.jsx)(H.Z,{className:"w-5 h-5 mr-2"}),"Savat (",t.reduce((e,t)=>e+t.quantity,0),") - ",getTotalPrice().toLocaleString()," so'm"]})})]}),(0,s.jsx)(Toaster,{})]})}}},function(e){e.O(0,[687,971,472,744],function(){return e(e.s=5171)}),_N_E=e.O()}]);